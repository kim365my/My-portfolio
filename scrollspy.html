<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- <link rel="stylesheet" href="./css/reset.css"> -->
    <style>
        #wrap{
            width: 80%;
            margin: 40px auto;
            border: 1px solid black;
        }
        section{
            height: 100vh;
            background-color: thistle;
            border-bottom: 1px solid #000;
        }
        a{
            font-weight: 500;
        }
        a[aria-current="true"]{
            background-color: rebeccapurple;
        }
        nav{
            position: fixed;
            top: 50%;
            right: 0;
        }
    </style>
</head>
<body>
    <div id="wrap">
        <nav>
            <!-- ul>li*5>a[data-scroll="name$" href="#name$" class="dot"]{name$} -->
            <ul>
                <li><a href="#name1" data-scroll="name1" class="dot" aria-current="false">name1</a></li>
                <li><a href="#name2" data-scroll="name2" class="dot" aria-current="false">name2</a></li>
                <li><a href="#name3" data-scroll="name3" class="dot" aria-current="false">name3</a></li>
                <li><a href="#name4" data-scroll="name4" class="dot" aria-current="false">name4</a></li>
                <li><a href="#name5" data-scroll="name5" class="dot" aria-current="false">name5</a></li>
            </ul>
        </nav>
        
        <section id="name1">
            <h2>name1</h2>
            <table>
                <colgroup>
                    <col class="name1_td">
                    <col>
                </colgroup>
                <tr>
                    <td></td>
                    <td></td>
                </tr>
            </table>

        </section>
        <section id="name2">
            <h2>name2</h2>
        </section>
        <section id="name3">
            <h2>name3</h2>
        </section>
        <section id="name4">
            <h2>name4</h2>
        </section>
        <section id="name5">
            <h2>name5</h2>
        </section>
    </div>
</body>
<script>
    const section = document.querySelectorAll("section");
    window.addEventListener("scroll", function(e){
        console.log(window.scrollY); // 현재 스크롤바 위치

        section.forEach(function(se){
            const clientRect = se.getBoundingClientRect(); // 각종 좌표값이 담겨져 있는 객체 
            const relativeTop = clientRect.top; // 상대좌표값
            console.log(relativeTop + " " + se.id);
            // 상대위치 값이 0보다 작거나 같을때, 다른 값 중에서 가장 작은경우
            if(relativeTop <= 0){
                // forEach문으로 해서 해당 데이터를 어떻게 저장해야 할지 모르겠어
                const a = document.querySelector("#"+se.id);
                console.log(a);
                

            }
            var scrolling = $(this).scrollTop() + $(this).height() / 3;
            var scroll_id;
            for (var i in sections) {
            var section = sections[i];
            if (scrolling > section.offset().top) {
                scroll_id = section.attr("id");
            }
            }
            if (scroll_id !== id) {
            id = scroll_id;
            $menu_a.removeClass("isactive");
            $("a[href='#" + id + "']", $menu).addClass("isactive");
            }

        })
    })
</script>
</html>